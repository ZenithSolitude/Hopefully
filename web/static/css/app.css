*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0f1117;--bg2:#1a1d27;--bg3:#22263a;--border:#2e3450;
  --text:#e2e8f0;--text2:#94a3b8;--accent:#6366f1;--accent2:#818cf8;
  --green:#10b981;--yellow:#f59e0b;--red:#ef4444;
  --sidebar-w:220px;--radius:8px;--shadow:0 4px 24px rgba(0,0,0,.4);
}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text);font-size:14px;line-height:1.5;display:flex;min-height:100vh}
a{color:var(--accent2);text-decoration:none}
a:hover{color:var(--text)}
code{font-family:'JetBrains Mono',monospace;font-size:12px}
.sidebar{width:var(--sidebar-w);background:var(--bg2);border-right:1px solid var(--border);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:100;transition:width .2s;overflow:hidden}
.sidebar.collapsed{width:56px}
.sidebar.collapsed .logo-text,.sidebar.collapsed .nav-text,.sidebar.collapsed .nav-label,.sidebar.collapsed .user-name{display:none}
.sidebar.collapsed .logo,.sidebar.collapsed .nav-item,.sidebar.collapsed .user-info{justify-content:center}
.sidebar-header{display:flex;align-items:center;justify-content:space-between;padding:14px 12px;border-bottom:1px solid var(--border);min-height:56px}
.logo{display:flex;align-items:center;gap:8px;color:var(--text);font-weight:700;font-size:16px;white-space:nowrap}
.logo-icon{font-size:20px}
.sidebar-toggle{background:none;border:none;color:var(--text2);cursor:pointer;font-size:18px;padding:4px;border-radius:4px}
.sidebar-toggle:hover{background:var(--bg3);color:var(--text)}
.nav{flex:1;overflow-y:auto;padding:8px 0}
.nav-section{margin-bottom:8px}
.nav-label{display:block;font-size:11px;font-weight:600;color:var(--text2);text-transform:uppercase;letter-spacing:.08em;padding:8px 16px 4px}
.nav-item{display:flex;align-items:center;gap:10px;padding:8px 16px;color:var(--text2);transition:background .15s,color .15s;white-space:nowrap}
.nav-item:hover{background:var(--bg3);color:var(--text)}
.nav-item.active{background:var(--bg3);color:var(--accent2);border-left:2px solid var(--accent)}
.nav-icon{font-size:18px;flex-shrink:0;width:24px;text-align:center}
.nav-text{font-size:14px}
.sidebar-footer{border-top:1px solid var(--border);padding:10px 12px;display:flex;align-items:center;justify-content:space-between;gap:8px;min-height:50px}
.user-info{display:flex;align-items:center;gap:8px;overflow:hidden}
.user-icon{font-size:18px;flex-shrink:0}
.user-name{font-size:13px;color:var(--text2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.btn-logout{background:none;color:var(--text2);font-size:18px;padding:4px;border-radius:4px}
.btn-logout:hover{background:var(--red);color:#fff}
.main{margin-left:var(--sidebar-w);flex:1;display:flex;flex-direction:column;min-height:100vh;transition:margin-left .2s}
.sidebar.collapsed~.main{margin-left:56px}
.topbar{position:sticky;top:0;z-index:50;background:var(--bg);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:56px}
.page-title{font-size:18px;font-weight:600}
.topbar-actions{display:flex;gap:8px}
.content{padding:24px;flex:1}
.card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-bottom:20px}
.card-header{padding:14px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
.card-header h3{font-size:15px;font-weight:600}
.card-body{padding:20px}
.cards-row{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}
@media(max-width:768px){.cards-row{grid-template-columns:1fr}}
.stats-grid{margin-bottom:20px}
.stats-grid-inner{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
@media(max-width:1024px){.stats-grid-inner{grid-template-columns:repeat(2,1fr)}}
@media(max-width:640px){.stats-grid-inner{grid-template-columns:1fr}}
.stat-card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--radius);padding:20px}
.stat-label{font-size:12px;color:var(--text2);text-transform:uppercase;letter-spacing:.05em;margin-bottom:6px}
.stat-value{font-size:22px;font-weight:700;margin-bottom:8px}
.stat-sub{font-size:12px;color:var(--text2);margin-top:4px}
.stat-bar{height:4px;background:var(--bg3);border-radius:2px;overflow:hidden}
.stat-bar-fill{height:100%;background:var(--accent);border-radius:2px;transition:width .5s ease;max-width:100%}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:10px 14px;text-align:left;border-bottom:1px solid var(--border)}
.table th{font-size:12px;font-weight:600;color:var(--text2);text-transform:uppercase;letter-spacing:.05em}
.table tbody tr:hover{background:var(--bg3)}
.table .actions{display:flex;gap:6px;flex-wrap:wrap}
.btn{display:inline-flex;align-items:center;gap:6px;padding:7px 14px;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg3);color:var(--text);cursor:pointer;font-size:13px;font-weight:500;transition:background .15s,border-color .15s;text-decoration:none;white-space:nowrap}
.btn:hover{background:var(--border);color:var(--text)}
.btn-primary{background:var(--accent);border-color:var(--accent);color:#fff}
.btn-primary:hover{background:var(--accent2);border-color:var(--accent2);color:#fff}
.btn-success{background:var(--green);border-color:var(--green);color:#fff}
.btn-success:hover{opacity:.85;color:#fff}
.btn-warning{background:var(--yellow);border-color:var(--yellow);color:#000}
.btn-warning:hover{opacity:.85;color:#000}
.btn-danger{background:var(--red);border-color:var(--red);color:#fff}
.btn-danger:hover{opacity:.85;color:#fff}
.btn-sm{padding:4px 10px;font-size:12px}
.btn-full{width:100%;justify-content:center}
.badge{display:inline-block;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:600;background:var(--bg3);color:var(--text2);border:1px solid var(--border)}
.badge-admin{background:rgba(99,102,241,.2);color:var(--accent2);border-color:var(--accent)}
.status{display:inline-flex;align-items:center;gap:5px;font-size:12px;font-weight:600}
.status::before{content:'';display:inline-block;width:7px;height:7px;border-radius:50%}
.status-active::before{background:var(--green);box-shadow:0 0 6px var(--green)}
.status-inactive::before{background:var(--text2)}
.status-error::before{background:var(--red)}
.error-hint{cursor:help;color:var(--yellow);margin-left:4px}
.field{margin-bottom:14px}
.field label{display:block;font-size:13px;color:var(--text2);margin-bottom:5px}
.field input[type=text],.field input[type=email],.field input[type=password],.field input[type=url],.field input[type=file],.field select,.field textarea{width:100%;padding:8px 12px;background:var(--bg3);border:1px solid var(--border);border-radius:var(--radius);color:var(--text);font-size:14px;transition:border-color .15s;outline:none}
.field input:focus,.field select:focus,.field textarea:focus{border-color:var(--accent)}
.alert{padding:10px 14px;border-radius:var(--radius);font-size:13px;margin-bottom:12px}
.alert-error{background:rgba(239,68,68,.15);border:1px solid var(--red);color:#fca5a5}
.alert-success{background:rgba(16,185,129,.15);border:1px solid var(--green);color:#6ee7b7}
.modal{position:fixed;inset:0;z-index:200;display:flex;align-items:center;justify-content:center}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(2px)}
.modal-box{position:relative;background:var(--bg2);border:1px solid var(--border);border-radius:12px;width:90%;max-width:540px;max-height:90vh;overflow-y:auto;box-shadow:var(--shadow);animation:modalIn .2s ease}
@keyframes modalIn{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:none}}
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--border)}
.modal-header h2{font-size:17px;font-weight:600}
.modal-close{background:none;border:none;color:var(--text2);font-size:20px;cursor:pointer;padding:4px;border-radius:4px}
.modal-close:hover{background:var(--bg3);color:var(--text)}
.modal-body{padding:20px}
.tabs{display:flex;border-bottom:1px solid var(--border);margin-bottom:18px}
.tab{padding:8px 16px;background:none;border:none;border-bottom:2px solid transparent;color:var(--text2);cursor:pointer;font-size:14px;transition:color .15s,border-color .15s}
.tab:hover{color:var(--text)}
.tab.active{color:var(--accent2);border-bottom-color:var(--accent)}
.tab-panel{display:none}
.tab-panel.active{display:block}
.install-log-wrap{margin-top:16px}
.install-log{background:#0a0c14;border:1px solid var(--border);border-radius:var(--radius);padding:12px 14px;font-family:'JetBrains Mono',monospace;font-size:12px;max-height:320px;overflow-y:auto}
.login-page{display:flex;align-items:center;justify-content:center;min-height:100vh;background:var(--bg)}
.login-wrap{width:100%;max-width:400px;padding:24px}
.login-card{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:36px 32px;box-shadow:var(--shadow)}
.login-logo{text-align:center;margin-bottom:28px}
.login-logo h1{font-size:24px;font-weight:700;margin-top:8px}
.login-logo p{color:var(--text2);font-size:13px;margin-top:4px}
.log-view{background:#080b14;color:#a5f3fc;padding:16px;overflow:auto;height:100%;font-size:12px;line-height:1.6;white-space:pre-wrap;word-break:break-all}
.info-table{width:100%;border-collapse:collapse}
.info-table td{padding:6px 0;border-bottom:1px solid var(--border);color:var(--text2)}
.info-table td:first-child{color:var(--text);width:40%}
.info-table tr:last-child td{border-bottom:none}
.quick-actions{display:flex;flex-wrap:wrap;gap:10px}
.quick-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 16px;background:var(--bg3);border:1px solid var(--border);border-radius:var(--radius);color:var(--text);font-size:14px;cursor:pointer;transition:background .15s,border-color .15s;text-decoration:none}
.quick-btn:hover{background:var(--border);border-color:var(--accent);color:var(--text)}
.module-frame-wrap{height:calc(100vh - 100px)}
.module-iframe{width:100%;height:100%;border:none;border-radius:var(--radius)}
.empty-state{text-align:center;padding:60px 20px;color:var(--text2)}
.empty-state h3{font-size:18px;color:var(--text);margin:12px 0 8px}
.empty-state .btn{margin-top:16px}
.htmx-indicator{display:none}
.htmx-request .htmx-indicator{display:inline}
#toast-container{position:fixed;bottom:24px;right:24px;z-index:999;display:flex;flex-direction:column;gap:8px}
.toast{padding:10px 16px;border-radius:var(--radius);font-size:13px;box-shadow:var(--shadow);min-width:200px}
.toast-ok{background:var(--green);color:#fff}
.toast-error{background:var(--red);color:#fff}
.toast-info{background:var(--bg3);color:var(--text);border:1px solid var(--border)}
.log-line{display:block;padding:1px 0}
.log-line-ok{color:#6ee7b7}
.log-line-warn{color:#fde68a}
.log-line-error{color:#fca5a5}
.log-line-info{color:#cbd5e1}
